function startLiveTracking() {
    navigator.geolocation.watchPosition(
    (pos) => {

        const lat = pos.coords.latitude;
        const lng = pos.coords.longitude;
        const uPos = [lat, lng];

        if (!userMarker) {
            userMarker = L.circleMarker(uPos, {
                radius: 9,
                color: 'white',
                weight: 3,
                fillOpacity: 1,
                fillColor: '#007aff'
            }).addTo(map);
        } else {
            userMarker.setLatLng(uPos);
        }

        map.setView(uPos, 19);

        let place = "ساحة الحرم";
        destinations.forEach(d => {
            if(map.distance(uPos, [d.lat, d.lng]) < 30) place = d.name;
        });

        document.getElementById('currentPlaceName').innerText =
            "أنت الآن في: " + place;

    },
    (err)=>{
        alert("تعذر تحديث الموقع — تأكد من تشغيل GPS");
        console.log(err);
    },
    {
        enableHighAccuracy: true,
        maximumAge: 5000,
        timeout: 10000
    });
}
